<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Extension tester tool | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Extension tester tool" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3053/develop/release-management/features/infra/extension-tester-tool.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3053/develop/release-management/features/infra/extension-tester-tool.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Extension tester tool" />
<meta name="twitter:site" content="@ovirt" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"Extension tester tool","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3053/images/logo.svg"}},"url":"https://ovirt.github.io/ovirt-site/previews/3053/develop/release-management/features/infra/extension-tester-tool.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3053/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3053/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3053/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3053/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3053/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3053/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3053/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3053/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3053/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3053/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3053/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3053/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3053/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3053/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3053/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3053/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3053/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3053/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/3053/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3053/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3053/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3053/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3053//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3053//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3053/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3053/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3053/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3053/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3053/develop/release-management/features/infra/">
              <span property="name">Infra</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/7dc9a7cce548204762ec1b16a4b654d3?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/7dc9a7cce548204762ec1b16a4b654d3?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Ondra Machacek">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Ondra Machacek</span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/3053/documentation/'>Documentation is available here.</a></div>

<h1 id="extension-tester-tool">Extension tester tool</h1>

<p>Extension tester tool serves to user to be able test his configuration of his oVirt extensions. Tool provides command line interface to send specific commands to these extensions. We currently support logger and aaa extension, but there will be more in future.</p>

<h3 id="command-line-interface">Command-line interface</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ovirt-engine-extensions-tool
  --extension-file=[STRING]  Extension file to be used.
  --extensions-dir=[STRING]  Path to directory of extensions.
  --help  Show test tool help.
  --log-file=[STRING]  File where log will be stored.
  --log-level=[STRING]  Log level of test tool.
  --version  Show version of test tool.
</code></pre></div></div>

<h2 id="aaa-module">AAA module</h2>

<p>This modules provides basic functionality to test your aaa extensions. You can search within your extension, login test sequence and other.</p>

<h3 id="command-line-interface-1">Command-line interface</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aaa
  login-user
    --help
      Show help for login-user action.

    --password=[PASSWORD]
      Password can be specified in one of the following format:
        interactive: - query password interactively [default].
        pass:STRING - provide a password as STRING.
        env:KEY - provide a password using environment KEY.
        file:FILE - provide a password as 1st line of FILE.

    --profile=[STRING]
      Name of profile to perform login with

    --user-name=[STRING]
      User name to login with

  search
    --authz-flag=[FLAG]
      Authz flags to be used, can be specified multiple times.
      Valid values: resolve-groups-recursive|resolve-groups

    --entity=[ENTITY]
      Type of entity to search for
      Valid values: principal|group, default: principal.

    --entity-id=[STRING]
      Entity id to search.

    --entity-name=[STRING]
      Entity name to search, can be followed by '*' as wildcard, default: *.

    --extension-name=[STRING]
      Name of extension to perform search with

    --help
      Show help for search action.

    --namespace=[STRING]
      Namespace to search within, see extension context for available namespaces, default: all.
      Can be specified multiple times.

    --page-size=[STRING]
      Page size, default: 100

  authz-fetch_principal_record:
    --authz-flag=[FLAG]
      Authz flags to be used, can be specified multiple times.
      Valid values: resolve-groups-recursive|resolve-groups

    --extension-name=[STRING]
      Extension name to be used for fetch of principal

    --help
      Show help for authz action.

    --principal-name=[STRING]
      Principal name to fetch

  authn-authenticate_credentials

    --extension-name=[STRING]
      Extension name to be used for authenticate

    --help
      Show help for authn action.

    --password=[PASSWORD]
      Password can be specified in one of the following format:
        interactive: - query password interactively [default].
        pass:STRING - provide a password as STRING.
        env:KEY - provide a password using environment KEY.
        file:FILE - provide a password as 1st line of FILE.

    --user-name=[STRING]
      User name to authenticate with
</code></pre></div></div>

<h3 id="examples">Examples</h3>

<p>Search example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ovirt-engine-extensions-tool aaa search --extension-name=my_ldap --user-name=user
</code></pre></div></div>

<p>Login example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ovirt-engine-extensions-tool aaa login-user --profile=my_ldap --user-name=user
</code></pre></div></div>

<h2 id="logger-module">Logger module</h2>

<p>Logger module provides functionality to setup specific logging of oVirt. You can find more information <a href="https://gerrit.ovirt.org/gitweb?p=ovirt-engine-extension-logger-log4j">here</a>.</p>

<h3 id="command-line-interface-2">Command-line interface</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>logger 
  --help  Show help for logger module.
  log-record
      --extension-name=[STRING]  Name of logger extension.
      --help  Show help for log-record action.
      --level=[STRING]  Level of log message to be sent.
      --logger-name=[STRING]  Name of logger.
      --message=[STRING]  Message which should be sent to logger.
</code></pre></div></div>

<h3 id="example">Example</h3>

<p>This example log message with text ‘test’ at level ‘INFO’ using logger name ‘test-logger’. It fill find extension named ‘ovirt-logger’ in directory <i>/etc/ovirt-engine/extensions.d</i></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ovirt-engine-extensions-tool logger log-record --extension-name=ovirt-logger --message=test --logger-name=test-logger --level=INFO
</code></pre></div></div>

<h2 id="info-module">Info module</h2>

<p>This module provides basic command to check your extensions configuration.</p>

<h3 id="command-line-interface-3">Command-line interface</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>info
  context
    --extension-name=[STRING]
      Name of extension.

    --format=[STRING]
      Format to use, place holders: {key}, {value}, {name}, default: {name}: {value}.

    --help
      Show help for context action.

    --key=[STRING]
      Key to output, default all, can be specified multiple times.

  configuration
    --extension-name=[STRING]
      Name of extension.

    --format=[STRING]
      Format to use, place holders: {key}, {value}, default: {key}: {value}.

    --help
      Show help for configuration action.

    --key=[STRING]
      Key to output, default all, can be specified multiple times.

  list-extensions
    --help
      Show help for list-extensions action.
</code></pre></div></div>

<h3 id="example-1">Example</h3>

<p>List extensions example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ovirt-engine-extensions-tool info list-extensions
</code></pre></div></div>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3053/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3053/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3053/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3053/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/infra/extension-tester-tool.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/develop/release-management/features/infra/extension-tester-tool.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
