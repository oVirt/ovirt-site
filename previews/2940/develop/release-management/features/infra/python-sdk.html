<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Python-sdk | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Python-sdk" />
<meta name="author" content="Andrew Dahms" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/2940/develop/release-management/features/infra/python-sdk.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/2940/develop/release-management/features/infra/python-sdk.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Python-sdk" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@Andrew Dahms" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Andrew Dahms"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"Python-sdk","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/2940/images/logo.svg"},"name":"Andrew Dahms"},"url":"https://ovirt.github.io/ovirt-site/previews/2940/develop/release-management/features/infra/python-sdk.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/2940/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/2940/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/2940/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/2940/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/2940/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/2940/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2940/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2940/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2940/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2940/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2940/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/2940/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/2940/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/2940/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/2940/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/2940/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/2940/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/2940/images/logo.svg">      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/2940/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2940/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/2940/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2940/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2940//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2940//blogs.ovirt.org/'>Blog</a></li>              </ul>          </div>          <!-- /.navbar-collapse -->      </div>      <!-- /.container-fluid -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2940/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2940/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2940/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2940/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2940/develop/release-management/features/infra/">
              <span property="name">Infra</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/d17fe401696c1bc6269a18d0a9c3132c?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/d17fe401696c1bc6269a18d0a9c3132c?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Andrew Dahms</span></p>
                      
                    </section>
                  </span>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/bdc8ca08102747efb50537d34ab6d73c?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/bdc8ca08102747efb50537d34ab6d73c?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Brian Proffitt</span></p>
                      
                    </section>
                  </span>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/bd5405d06a99910f92f6c9f96048a332?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/bd5405d06a99910f92f6c9f96048a332?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Michael Pasternak</span></p>
                      
                    </section>
                  </span>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/2940/documentation/'>Documentation is available here.</a></div>

<h1 id="python-sdk-api-v3">Python-SDK (API v3)</h1>

<p>The oVirt Python-SDK is an automatically generated software development kit for the oVirt engine API.
This software development kit allows you to develop Python-based applications for automating a variety of complex administrative tasks in oVirt.</p>

<p><strong>Note:</strong> please note that in this page examples refers to the version 3 of the API.</p>

<p><strong>Note:</strong> if you’re looking for the version 4 of the API please refer to the <a href="https://github.com/oVirt/ovirt-engine-sdk/blob/master/sdk/README.adoc">oVirt Engine API Python SDK Documentation</a>.</p>

<p><strong>TOC</strong></p>

<h2 id="concepts">Concepts</h2>

<ul>
  <li>Complete protocol abstraction.</li>
  <li>Full compliance with the oVirt api architecture.</li>
  <li>Auto-completion.</li>
  <li>Self descriptive.</li>
  <li>Auto-Generated</li>
  <li>Intuitive and easy to use.</li>
</ul>

<h2 id="ide-examples">IDE Examples</h2>

<h3 id="creating-the-proxy-and-listing-all-collections">Creating the proxy and listing all collections:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/1psdk.png" alt="" title="proxy" /></p>

<h3 id="listing-the-methods-of-a-collection">Listing the methods of a collection:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/2psdk.png" alt="" title="list methods" /></p>

<h3 id="querying-a-collection-using-the-ovirt-search-engine-query-and-custom-constraints">Querying a collection using the oVirt search engine query and custom constraints:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/3psdk.png" alt="" title="query" /></p>

<h3 id="accessing-resource-methods-and-properties">Accessing resource methods and properties:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/4psdk.png" alt="" title="methods" /></p>

<h3 id="creating-a-resource">Creating a resource:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/Create_sdk_resource.png" alt="" /></p>

<h3 id="accessing-resource-properties-and-sub-collections">Accessing resource properties and sub-collections:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/5psdk.png" alt="" title="properties" /></p>

<h3 id="accessing-sub-collection-methods">Accessing sub-collection methods:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/6psdk.png" alt="" title="sub-collection" /></p>

<h3 id="querying-a-sub-collection-using-a-custom-constraint">Querying a sub-collection using a custom constraint:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/7psdk.png" alt="" title="query" /></p>

<h3 id="retrieving-a-sub-collection-resource">Retrieving a sub-collection resource:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/8psdk.png" alt="" title="retrieve sub-collection" /></p>

<h3 id="accessing-sub-collection-resource-properties-and-methods">Accessing sub-collection resource properties and methods:</h3>

<p><img src="/ovirt-site/previews/2940/images/wiki/9psdk.png" alt="" title="sub-collection resource properties" /></p>

<h2 id="examples">Examples</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">ovirtsdk.xml</span> <span class="kn">import</span> <span class="n">params</span>

<span class="kn">from</span> <span class="nn">ovirtsdk.api</span> <span class="kn">import</span> <span class="n">API</span>
</code></pre></div></div>

<ul>
  <li>create proxy</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">'[http://host:port/api](http://host:port/api)'</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="s">'user@domain'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'password'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>list entities</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vms1</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li>list entities using query</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vms2</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="nb">list</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s">'name=python_vm'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>search vms by property constraint</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vms3</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="nb">list</span><span class="p">(</span><span class="n">memory</span><span class="o">=</span><span class="mi">1073741824</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>update resource</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vm1</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'python_vm'</span><span class="p">)</span>

<span class="n">vm1</span><span class="p">.</span><span class="n">description</span> <span class="o">=</span> <span class="s">'updated_desc'</span>

<span class="n">vm2</span> <span class="o">=</span> <span class="n">vm1</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li>list by constraints</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vms4</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="nb">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'pythond_sdk_poc2'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>get by name</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vm4</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'pythond_sdk_poc2'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>get by constraints</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">vm5</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'02f0f4a4-9738-4731-83c4-293f3f734782'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>add resource</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">param</span> <span class="o">=</span> <span class="n">params</span><span class="p">.</span><span class="n">VM</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'my_vm'</span><span class="p">,</span>
                  <span class="n">cluster</span><span class="o">=</span><span class="n">api</span><span class="p">.</span><span class="n">clusters</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'xxx'</span><span class="p">),</span>
                  <span class="n">template</span><span class="o">=</span><span class="n">api</span><span class="p">.</span><span class="n">templates</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'yyy'</span><span class="p">),</span>
                  <span class="p">...)</span>

<span class="n">my_vm</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>add sub-resource to resource</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">network</span> <span class="o">=</span> <span class="n">params</span><span class="p">.</span><span class="n">Network</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'rhevm'</span><span class="p">)</span>

<span class="n">nic</span> <span class="o">=</span> <span class="n">params</span><span class="p">.</span><span class="n">NIC</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eth0'</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="n">network</span><span class="p">,</span> <span class="n">interface</span><span class="o">=</span><span class="s">'e1000'</span><span class="p">)</span>

<span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">nic</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>add sub-resource to resource where one of the parameters is collection</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sd</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">storagedomains</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'nfs_data'</span><span class="p">)</span>
<span class="n">diskParam</span> <span class="o">=</span> <span class="n">params</span><span class="p">.</span><span class="n">Disk</span><span class="p">(</span><span class="n">storage_domains</span><span class="o">=</span><span class="n">params</span><span class="p">.</span><span class="n">StorageDomains</span><span class="p">(</span><span class="n">storage_domain</span><span class="o">=</span><span class="p">[</span><span class="n">sd</span><span class="p">]),</span> 
                        <span class="n">size</span><span class="o">=</span><span class="mi">5368709120</span><span class="p">,</span> 
                        <span class="n">type_</span><span class="o">=</span><span class="s">'data'</span><span class="p">,</span> 
                        <span class="n">interface</span><span class="o">=</span><span class="s">'virtio'</span><span class="p">,</span> 
                        <span class="nb">format</span><span class="o">=</span><span class="s">'cow'</span><span class="p">)</span>

<span class="n">myVm</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">vms</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'nfs_desktop'</span><span class="p">)</span>
<span class="n">neDisk</span> <span class="o">=</span> <span class="n">myVm</span><span class="p">.</span><span class="n">disks</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">diskParam</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>note: params.Disk(storage_domains=…, =&gt; this is means that Disk constructor should receive collection (params.StorageDomains()) as parameter</li>
</ul>

<!-- -->

<ul>
  <li>list sub-resources</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nics1</span> <span class="o">=</span> <span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="nb">list</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li>list sub-resources using constraint/s</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nics2</span> <span class="o">=</span> <span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="nb">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eth0'</span><span class="p">)</span>

<span class="n">nics3</span> <span class="o">=</span> <span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="nb">list</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="s">'e1000'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>get sub-resource</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nic1</span> <span class="o">=</span> <span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eth0'</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>update sub-resource</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nic1</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'eth01'</span>
      
<span class="n">nic2</span> <span class="o">=</span> <span class="n">nic1</span><span class="p">.</span><span class="n">update</span><span class="p">()</span>

<span class="n">nic3</span> <span class="o">=</span> <span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eth01'</span><span class="p">)</span>

<span class="n">nic4</span> <span class="o">=</span> <span class="n">vm6</span><span class="p">.</span><span class="n">nics</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eth0'</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="development-tips">Development tips</h2>

<h3 id="parameters-holder-type-location">Parameters holder type location</h3>

<p>If you find difficult locating appropriate type while constructing</p>

<p>parameter environment, like in [1] for instance, you can reuse internal</p>

<p>params lookup as shown in [2].</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#[1]
</span><span class="n">VMs</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vm</span><span class="p">,</span> <span class="p">...):[</span><span class="o">@</span><span class="n">param</span> <span class="n">vm</span><span class="p">.</span><span class="n">cpu</span><span class="p">.</span><span class="n">topology</span><span class="p">.</span><span class="n">cores</span><span class="p">:</span> <span class="nb">int</span><span class="p">]</span>

<span class="c1">#[2]
</span><span class="n">topology</span> <span class="o">=</span> <span class="n">params</span><span class="p">.</span><span class="n">findRootClass</span><span class="p">(</span><span class="s">"topology"</span><span class="p">)</span>
<span class="c1">#in this case will be returned CpuTopology type.
</span></code></pre></div></div>

<h3 id="releasing-resources-when-sdk-proxy-is-no-longer-needed">Releasing resources when SDK proxy is no longer needed</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">'...'</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="s">'...'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'...'</span><span class="p">)</span>
    <span class="c1">#...
</span><span class="k">finally</span><span class="p">:</span>
    <span class="n">api</span><span class="p">.</span><span class="n">disconnect</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="deployment">Deployment</h2>

<h3 id="pypi">pypi</h3>

<p><a href="http://pypi.python.org/pypi/ovirt-engine-sdk-python">http://pypi.python.org/pypi/ovirt-engine-sdk-python</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>easy_install ovirt-engine-sdk-python
</code></pre></div></div>

<h3 id="rpm">rpm</h3>

<p>To build rpm and install it, from ovirt-engine-sdk repo:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install -y rpm-build python-devel python-setuptools

make rpm

yum install rpmtop/RPMS/noarch/ovirt-engine-sdk-x.y-z.noarch.rpm
</code></pre></div></div>

<h3 id="development-deployment-using-distro-package-manager">development deployment (using distro package manager)</h3>

<p>For local install in site-packages, from ovirt-engine-sdk repo:</p>

<ul>
  <li>
    <p>Fedora</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install python-lxml
cd ovirt-engine-sdk
python setup.py install
</code></pre></div>    </div>
  </li>
  <li>
    <p>Debian/Ubuntu</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get install python-lxml
cd ovirt-engine-sdk
python setup.py install
</code></pre></div>    </div>
  </li>
  <li>
    <p>Arch linux</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pacman -S python2
cd ovirt-engine-sdk
python2 setup.py install
</code></pre></div>    </div>
  </li>
  <li>
    <p>note: both deployment procedures require super-user permissions.</p>
  </li>
</ul>

<h3 id="development-deployment-using-pip-and-virtualenvwrapper-package-manager">development deployment (using pip and virtualenvwrapper package manager)</h3>

<ul>
  <li>
    <p>Fedora</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install python-pip
</code></pre></div>    </div>
  </li>
  <li>
    <p>Debian/Ubuntu</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt-get install python-pip libxml2-dev libxslt1-dev build-essential
</code></pre></div>    </div>
  </li>
  <li>
    <p>Arch linux</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pacman -S python 2 python-pip
</code></pre></div>    </div>
  </li>
  <li>
    <p>Common among the previous distributions</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install virtualenvwrapper
cat &gt;&gt; ~/.bashrc &lt;&lt; EOF
export WORKON_HOME=$HOME/.virtualenvs
export WORKON_HOME=$HOME/yourprojectdir
source /usr/local/bin/virtualenvwrapper.sh # omit the local part for Arch Linux
EOF
mkvirtualenv -p /usr/bin/python2.7 ovirt
cd ovirt-engine-sdk
python setup.py install
</code></pre></div>    </div>
  </li>
</ul>

<p>Then, every time you want to use it:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>workon ovirt
</code></pre></div></div>

<p>will make ovirt and its dependencies available to your python execution environment.</p>

<h2 id="codegen">codegen</h2>

<p>install generateDS</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>easy_install generateDS
</code></pre></div></div>

<p>note: currently we support only 2.9a</p>

<p>codegen</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  1. compile + deploy new ovirt-engine
  2. run jboss
  3. run codegen.main.py
</code></pre></div></div>

<h2 id="known-issues">Known issues</h2>

<h2 id="todo-list">TODO list</h2>

<h3 id="bugsrfes">Bugs/RFEs</h3>

<p><a href="https://bugzilla.redhat.com/buglist.cgi?list_id=363325&amp;classification=Community&amp;query_based_on=ovirt_sdk_bugs&amp;query_format=advanced&amp;token=1343748821-516898cbb4251bbe2a7856f547f55f74&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;component=ovirt-engine-sdk&amp;classificiation=oVirt&amp;known_name=ovirt_sdk_bugs">Bugzila</a></p>

<h3 id="codegen-1">codegen</h3>

<ul>
  <li>interface for task polling</li>
</ul>

<!-- -->

<ul>
  <li>supporting off-line codegen mode</li>
</ul>

<h3 id="sdk">sdk</h3>

<ul>
  <li>supporting several proxy instances in application (done)</li>
</ul>

<!-- -->

<ul>
  <li>refactor caching mechanism</li>
</ul>

<!-- -->

<ul>
  <li>implement <strong>exit</strong> in proxy</li>
</ul>

<!-- -->

<ul>
  <li>refactoring internal exceptions for better error handling on client side</li>
</ul>

<h2 id="maintainers">Maintainers</h2>

<p>Michael Pasternak: mishka8520@yahoo.com, Juan Hernandez: juan.hernandez@redhat.com</p>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/2940/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/2940/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/2940/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/2940/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/infra/python-sdk.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/master/source/develop/release-management/features/infra/python-sdk.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
