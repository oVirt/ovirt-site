<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Gluster Swift Management | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Gluster Swift Management" />
<meta name="author" content="Kanagaraj Mayilsamy" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3152/develop/release-management/features/gluster/gluster-swift-management.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3152/develop/release-management/features/gluster/gluster-swift-management.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gluster Swift Management" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@Kanagaraj Mayilsamy" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Kanagaraj Mayilsamy"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"Gluster Swift Management","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3152/images/logo.svg"},"name":"Kanagaraj Mayilsamy"},"url":"https://ovirt.github.io/ovirt-site/previews/3152/develop/release-management/features/gluster/gluster-swift-management.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3152/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3152/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3152/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3152/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3152/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3152/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3152/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3152/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3152/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3152/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3152/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3152/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3152/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3152/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3152/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3152/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3152/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3152/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/3152/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3152/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3152/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3152/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3152//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3152//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3152/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3152/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3152/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3152/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3152/develop/release-management/features/gluster/">
              <span property="name">Gluster</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/ad6a629dcee77b9544df139f8407510f?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/ad6a629dcee77b9544df139f8407510f?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Kanagaraj Mayilsamy">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Kanagaraj Mayilsamy</span></p>
                      
                    </section>
                  </div>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/4e6fb67fcf2f14250c44aeea5eca96e2?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/4e6fb67fcf2f14250c44aeea5eca96e2?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of RamaKasturi">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">RamaKasturi</span></p>
                      
                    </section>
                  </div>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/450b77aa4b277aa954e42c0cbaed64f1?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/450b77aa4b277aa954e42c0cbaed64f1?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Sahina Bose">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Sahina Bose</span></p>
                      
                    </section>
                  </div>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/393519c4c5d345f038570fa4a3849d85?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/393519c4c5d345f038570fa4a3849d85?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Shubhendu Tripathi">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Shubhendu Tripathi</span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/3152/documentation/'>Documentation is available here.</a></div>

<h1 id="gluster-swift-management">Gluster Swift Management</h1>

<h2 id="summary">Summary</h2>

<p>This feature allows the administrator to manage the gluster swift related services and configuration from oVirt Engine. With this the administrator can view gluster swift status in the cluster as well as on each host/server. Administrator will be able to start/stop gluster swift service across the servers in a cluster or on each server.</p>

<p>To read more about gluster swift integration, see <a href="https://github.com/gluster/gluster-swift/blob/master/doc/markdown/quick_start_guide.md">https://github.com/gluster/gluster-swift/blob/master/doc/markdown/quick_start_guide.md</a></p>

<h2 id="owner">Owner</h2>

<ul>
  <li>Feature owner: Shubhendu Tripathi
    <ul>
      <li>GUI Component owner: Kanagaraj Mayilsamy</li>
      <li>Engine Component owner: Shubhendu Tripathi</li>
      <li>VDSM Component owner: Aravinda V K <a href="mailto:avishwan@redhat.com">avishwan@redhat.com</a></li>
      <li>QA Owner: Sudhir Dharanendraiah <a href="mailto:sdharane@redhat.com">sdharane@redhat.com</a></li>
    </ul>
  </li>
</ul>

<h2 id="current-status">Current Status</h2>

<ul>
  <li>Status: Deprecated/ On hold</li>
  <li>Last updated: ,</li>
  <li>Available In : NA</li>
</ul>

<h2 id="design">Design</h2>

<p>Gluster Swift Services Management has been designed to manage any group of services belonging to a service type. For instance, the Service Type for Gluster Swift is GLUSTER_SWIFT and the services are gluster-swift-proxy, gluster-swift-container, gluster-swift-object and gluster-swift-account.</p>

<h3 id="entity-description">Entity Description</h3>

<h4 id="service-type">Service Type</h4>

<p>An enum of supported Service Type. Currently only GLUSTER_SWIFT.</p>

<h4 id="gluster-service">Gluster Service</h4>

<p>This is the master list of supported services in the cluster and will be populated as part of installation or upgrade.</p>

<ul>
  <li>ServiceType - Type of service</li>
  <li>serviceName - Name of service</li>
</ul>

<h4 id="gluster-server-service">Gluster Server Service</h4>

<p>This entity stores the status of individual services on a server in the cluster</p>

<ul>
  <li>serviceType - Type of service</li>
  <li>serviceName - Name of service</li>
  <li>serverId - Refers the VDS server</li>
  <li>status - Valid value from GlusterServiceStatus
    <ul>
      <li>RUNNING (UP)</li>
      <li>STOPPED(DOWN)</li>
      <li>PARTIALLY_UP - services are running only in some hosts</li>
      <li>NOT_INSTALLED - SWIFT is not installed in the host</li>
      <li>UNKNOWN - error in fetching the service status</li>
    </ul>
  </li>
  <li>message - stores the message returned from VDS command when querying for service status on a server</li>
</ul>

<h3 id="user-experience">User Experience</h3>

<p>Administrator can view the status of SWIFT in the cluster from the Cluster -&gt; General tab. The service status from all servers in the cluster is aggregated and shown as either UP/DOWN/PARTIALLY_UP/NOT_INSTALLED/UNKNOWN .</p>

<ul>
  <li>RUNNING - indicates that all Gluster_SWIFT related services are running in all servers in the cluster</li>
  <li>STOPPED - indicates that all Gluster_SWIFT related services are stopped in all the servers in the cluster</li>
  <li>PARTIALLY_UP - indicates that Gluster_SWIFT related services maybe running in some of the servers</li>
  <li>NOT INSTALLED - indicates that SWIFT is not installed in the servers</li>
  <li>UNKNOWN - indicates unable to fetch any information about the swift services</li>
</ul>

<h4 id="status-mapping">Status Mapping</h4>

<p><img src="/ovirt-site/previews/3152/images/wiki/GlusterSwift-StatusMapping.png" alt="" /></p>

<h4 id="cluster-general-subtab">Cluster General Subtab</h4>

<p><img src="/ovirt-site/previews/3152/images/wiki/GlusterSwift-ClusterStatus.png" alt="" /></p>

<h4 id="manage-gluster-swift-services">Manage Gluster Swift Services</h4>

<p><img src="/ovirt-site/previews/3152/images/wiki/GlusterSwift-ClusterManage.png" alt="" /></p>

<p>From the Servers view, clicking on server will show a Gluster SWIFT sub tab. This will list all services of GLUSTER_SWIFT service type along with the status for that server. Administrator can choose to start/stop the GLUSTER_SWIFT service from this tab.</p>

<h4 id="host-gluster-swift-subtab">Host Gluster Swift Subtab</h4>

<p><img src="/ovirt-site/previews/3152/images/wiki/GlusterSwift-HostManage.png" alt="" /></p>

<h3 id="installationupgrade">Installation/Upgrade</h3>

<h3 id="user-work-flows">User work-flows</h3>

<h3 id="events">Events</h3>

<p>Periodic sync job will report if service status changes in a server.</p>

<h2 id="dependencies--related-features-and-projects">Dependencies / Related Features and Projects</h2>

<h2 id="testing">Testing</h2>

<h3 id="prerequisites">Prerequisites</h3>

<ol>
  <li>Engine - setup with Gluster or Both application mode, in order to create clusters with gluster service enabled.</li>
  <li>Two or more servers to be added to cluster. The servers should have the gluster repo added so that while engine bootstraps host, the gluster rpms can be installed.</li>
  <li>Install gluster-swift rpms and memcached if they are not already installed.</li>
  <li>start the swift service by using the command “swift-init main start”</li>
  <li>start the memcached service by using the command “service memcached start”</li>
</ol>

<h3 id="test-cases">Test Cases</h3>

<ul>
  <li>Verify Swift Status at cluster level.
    <ul>
      <li>Should have a cluster with “gluster service” enabled created and servers attached to it.</li>
      <li>Should have gluster-swift package installed on the servers.</li>
      <li>Click on the clusters tab and select the cluster to see the status.</li>
      <li>Verify that in the General sub tab of a cluster, Gluster Swift status will be shown “DOWN” by default.</li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify swift status at server level.
    <ul>
      <li>Should have a cluster with “gluster service” enabled created and servers attached to it.</li>
      <li>Should have gluster-swift package installed on the servers.</li>
      <li>Click on the servers tab.</li>
      <li>Go to Gluster Swift tab.</li>
      <li>Verify that the following services are listed with status of the services as “Down”:</li>
    </ul>

    <ol>
      <li>gluster-swift-account</li>
      <li>gluster-swift-container</li>
      <li>gluster-swift-object</li>
      <li>gluster-swift-proxy</li>
      <li>memcached</li>
    </ol>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify start Swift at cluster level
    <ul>
      <li>Should have a cluster with “gluster service” enabled created and servers attached to it.</li>
      <li>Click on the Clusters tab.</li>
      <li>Go to Manage link under the clusters general sub tab.</li>
      <li>Click on the Start radio button in the manage gluster swift services popup.</li>
      <li>Click on OK button.</li>
      <li>Verify for the message “SWIFT Services started on cluster <code class="language-plaintext highlighter-rouge">&lt;cluster Name&gt;</code>”.</li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify Stop SWIFT at cluster level
    <ul>
      <li>Should have a cluster with “gluster service” enabled created and servers attached to it.</li>
      <li>Click on the Clusters tab.</li>
      <li>Go to Manage link under the clusters general sub tab.</li>
      <li>Click on the Stop radio button in the manage gluster swift services popup.</li>
      <li>Click on OK button.</li>
      <li>Verify for the message “SWIFT Services stopped on cluster <code class="language-plaintext highlighter-rouge">&lt;cluster Name&gt;</code>”.</li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify restarting of Swift at cluster level
    <ul>
      <li>Should have a cluster with “gluster service” enabled created and servers attached to it.</li>
      <li>Click on the Clusters tab.</li>
      <li>Go to Manage link under the clusters general sub tab.</li>
      <li>Click on the Restart radio button in the manage gluster swift services in the popup.</li>
      <li>Click on OK button.</li>
      <li>Verify for the message “SWIFT Services re-started on cluster <code class="language-plaintext highlighter-rouge">&lt;cluster Name&gt;</code></li>
      <li>Verify that Gluster Swift status shows as “UP” in the general subtab of cluster.</li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify Start Swift Services at Server level.
    <ul>
      <li>click on the cluster which has severs present in it.</li>
      <li>Click on the server in which Gluster Swift Services needs to be started.</li>
      <li>Go to Gluster Swift Sub tab.</li>
      <li>Click on the Start Swift link .</li>
      <li>Verify that Status column of all the services shows “Up” .</li>
      <li>Verify for the following message for all the services present in the server.</li>
    </ul>

    <ol>
      <li>Status of service <code class="language-plaintext highlighter-rouge">&lt;Service Type&gt;</code> on server <code class="language-plaintext highlighter-rouge">&lt;server Name&gt;</code> changed from Up to Down. Updating in engine now.</li>
    </ol>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify Stop Swift Services at server level.
    <ul>
      <li>Click on the cluster which has servers present in it.</li>
      <li>Click on the server in which Gluster Swift Services needs to be stopped.</li>
      <li>Go to Gluster Swift Sub tab.</li>
      <li>Click on the Stop Swift link .</li>
      <li>Verify that Status column of all the services shows “Down” .</li>
      <li>Verify for the following message for all the services present in the server.</li>
    </ul>

    <ol>
      <li>Status of service <code class="language-plaintext highlighter-rouge">&lt;Service Type&gt;</code> on server <code class="language-plaintext highlighter-rouge">&lt;server Name&gt;</code> changed from Up to Down. Updating in engine now.</li>
    </ol>
  </li>
</ul>

<!-- -->

<ul>
  <li>Verify Restarting of Swift Services at server level.
    <ul>
      <li>Click on the cluster which has servers present in it.</li>
      <li>Click on the server in which Gluster Swift Services needs to be restarted.</li>
      <li>Go to Gluster Swift Sub tab.</li>
      <li>Click on the Restart Swift link .</li>
      <li>Verify that Status column of all the services shows “UP” .</li>
      <li>Verify for the following message for all the services present in the server.</li>
    </ul>

    <ol>
      <li>Status of service <code class="language-plaintext highlighter-rouge">&lt;Service Type&gt;</code> on server <code class="language-plaintext highlighter-rouge">&lt;server Name&gt;</code> changed from Down to Up. Updating in engine now.</li>
    </ol>
  </li>
</ul>

<h2 id="documentation--external-references">Documentation / External references</h2>

<ul>
  <li><a href="https://github.com/gluster/gluster-swift/blob/master/doc/markdown/quick_start_guide.md">https://github.com/gluster/gluster-swift/blob/master/doc/markdown/quick_start_guide.md</a></li>
  <li><a href="https://web.archive.org/web/20160625190027/http://www.gluster.org/community/documentation/index.php/Arch/Understanding_Swift_Integration">https://web.archive.org/web/20160625190027/http://www.gluster.org/community/documentation/index.php/Arch/Understanding_Swift_Integration</a></li>
</ul>

<h2 id="open-issues">Open Issues</h2>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3152/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3152/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3152/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3152/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2023 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/gluster/gluster-swift-management.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/develop/release-management/features/gluster/gluster-swift-management.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
