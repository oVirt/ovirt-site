<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>oVirt faq | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="oVirt faq" />
<meta name="author" content="Humble Chirammal" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3186/develop/faq.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3186/develop/faq.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="oVirt faq" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@Humble Chirammal" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Humble Chirammal"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"oVirt faq","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3186/images/logo.svg"},"name":"Humble Chirammal"},"url":"https://ovirt.github.io/ovirt-site/previews/3186/develop/faq.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3186/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3186/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3186/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3186/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3186/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3186/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3186/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3186/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3186/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3186/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3186/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3186/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3186/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3186/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3186/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3186/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3186/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3186/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/3186/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3186/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3186/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3186/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3186//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3186//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3186/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3186/develop/">
              <span property="name">Joining the developers community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/3eca55a8f5b89080b8f23a9a07e84ff2?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/3eca55a8f5b89080b8f23a9a07e84ff2?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Humble Chirammal">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Humble Chirammal</span></p>
                      
                    </section>
                  </div>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/65fafd7adcef0c369b149759491fae7f?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/65fafd7adcef0c369b149759491fae7f?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Sandro Bonazzola">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard"><a rel="author" href="https://twitter.com/sandrobonazzola" title="Sandro Bonazzola">Sandro Bonazzola</a></span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          
<!-- TODO: Content review -->

<h1 id="ovirt-faq">oVirt FAQ</h1>

<p><strong>1) Which network ports should be enabled when setting up oVirt environment?</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   54321                                : vdsm
   22                                   : ssh
   5634 - 6166                          : guest console access ports
   49152 - 49216                        : VM migration port range
   32023                                : Spice  usb redirection
</code></pre></div></div>

<p><strong>2) How can I change “vdsm” logging format or level?</strong></p>

<p>Edit  #/etc/vdsm/logger.conf</p>

<p><strong>3) Which files are persisted by default with ovirt-node?</strong></p>

<p>The files inside <code class="language-plaintext highlighter-rouge">"/config/files"</code> are persisted by default.</p>

<p><strong>4) What would be the maximum boot time for ovirt node/hypervisor for <em>not</em> to be marked as “NON RESPONSIVE” in oVirt GUI?</strong></p>

<p>oVirt-engine will wait for two minutes before declaring ovirt-node as <code class="language-plaintext highlighter-rouge">"Non responsive"</code>.</p>

<p><strong>5) Vdsm/kvm does not detect “Full virtualization” even-though there are flags ( SVM or VMX) appreared in <code class="language-plaintext highlighter-rouge">/proc/cpuinfo</code> file, What should I do ?</strong></p>

<p>You may notice <code class="language-plaintext highlighter-rouge">"kvm is disabled in BIOS"</code> message in dmesg. Make sure that, you have done <code class="language-plaintext highlighter-rouge">"FULL POWER CYCLING"</code> after enabling <code class="language-plaintext highlighter-rouge">"Virtualization"</code> in BIOS of the system.</p>

<p><strong>6) What is the difference between <code class="language-plaintext highlighter-rouge">'Non responsive"</code> and <code class="language-plaintext highlighter-rouge">"Non operational"</code> hypervisor status in oVirt GUI?</strong></p>

<p><em>‘Non operational:’</em></p>

<p>Something is wrong with the configuration of the oVirt Node.  The oVirt engine can still communicate with the ovirt-node, though.</p>

<p>It can be a failure in the connectivity of ovirt-node to any of the cluster components.  So make sure ovirt-node is capable of working with all the components defined for a cluster.</p>

<p><em>‘Non responsive:’</em></p>

<p>The ovirt-engine cannot communicate with the ovirt-node via vdsm. In simple terms, there is a break in ovirt-engine-&gt;vdsm communcation path. It may be due to network split, dead vdsm, firewall, etc.</p>

<p><strong>7) How can I add more space in oVirt storage?</strong></p>

<p>It is better to assign new LUN from FC/ISCSI and “Edit” storage domain to make use of the new space. It is <em>not</em> supported when expanding LUN from SAN as ovirt-engine is not capable of updating itself with the change.</p>

<p><strong>8) What is meant by <code class="language-plaintext highlighter-rouge">"Image Locked"</code> status in oVirt GUI?</strong></p>

<p>All storage operations, such as create/delete VM/Template/Snapshot, will lock the VM image to perform the same. If the <code class="language-plaintext highlighter-rouge">"VM"</code> is continuing in <code class="language-plaintext highlighter-rouge">"Image Locked"</code> status for long time (it depends on the operation) it could be something wrong with it.</p>

<p><strong>9) I am getting errors when doing <code class="language-plaintext highlighter-rouge">"virt-v2v"</code> process, how to get more logs?</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export LIBGUESTFS_TRACE=1
export LIBGUESTFS_DEBUG=1
</code></pre></div></div>

<p><em>The above <code class="language-plaintext highlighter-rouge">'env'</code> variables can produce hell lot of logs for the virt-v2v process Use it accordingly.</em></p>

<p><strong>10) What are different values listed under <code class="language-plaintext highlighter-rouge">"status"</code> field of VM in the oVirt DB?</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   Unassigned = -1,
   Down = 0,
   Up = 1,
   PoweringUp = 2,
   PoweredDown = 3,
   Paused = 4,
   MigratingFrom = 5,
   MigratingTo = 6,
   Unknown = 7,
   NotResponding = 8,
   WaitForLaunch = 9,
   RebootInProgress = 10,
   SavingState = 11,
   RestoringState = 12,
   Suspended = 13,
   ImageIllegal = 14,
   ImageLocked = 15,
   PoweringDown = 16
</code></pre></div></div>

<p><strong>11) What are different values listed under <code class="language-plaintext highlighter-rouge">"status"</code> field of VDS (Hypervisor) in the oVirt DB?</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Unassigned = 0,
  Down = 1,
  Maintenance = 2,
  Up = 3,
  NonResponsive = 4,
  Error=5,
  Installing=6,
  InstallFailed=7,
  Reboot=8,
  PreparingForMaintenance=9,
  NonOperational=10,
  PendingApproval=11,
  Initializing=12,
  Problematic=13
</code></pre></div></div>

<p><strong>12) What actions <code class="language-plaintext highlighter-rouge">"vdsbootstrapper"</code> performs at the time of registration?</strong></p>

<p>Steps to perform:</p>

<ol>
  <li>Check VT/SVM<br /></li>
  <li>OS name + version<br /></li>
  <li>Kernel version<br /></li>
  <li>Check missing RPMs, install or update if needed<br /></li>
  <li>Check missing VDS packages, install or update if needed<br /></li>
  <li>Check switch configuration<br /></li>
  <li>Initiate Certificate Initalization<br />
  a. Generate certificate and sign request<br />
  b. Submit sign request<br />
  c. Wait until signed certificate returns from VDC<br />
  d. Install certificate and keys for vdsm use.<br /></li>
  <li>Reboot</li>
</ol>

<p><strong>13) What are different table types available with oVirt DB?</strong></p>

<p>Static: static entity’s data<br />
Dynamic: dynamic data<br />
Statistics: statistics info for History DB</p>

<p><strong>14) Will it cause an issue if I am restarting “vdsmd” in my ovirt-node?</strong></p>

<p>Running <code class="language-plaintext highlighter-rouge">service vdsmd restart</code> without placing the host on ‘maintenance’ mode on ovirt GUI, can cause following scenario:<br />
vdsmd restart on a host takes time, especially when the host is an SPM (Storage Pool Manager) - it should disconnect the storage, restart, and reconnect.<br />
ovirt-engine checks for a host aliveness each <code class="language-plaintext highlighter-rouge">"X" * "Y"</code> seconds</p>

<p>Where <code class="language-plaintext highlighter-rouge">X= "ConfigurationTool.Hosts.Timeout_before_reset_Host" seconds</code> and <code class="language-plaintext highlighter-rouge">"Y" =  &lt;ConfigurationTool.Hosts.Attempts_before_reset_Host&gt;</code> times.</p>

<p>If the host is found not responsive (and it is such during vdsmd restart), ovirt-engine believes there is something wrong with the host and sends it a restart command.</p>

<p>The restart event is send to the host’s fencing device.</p>

<p><strong>15) What are the requirements need to be met for detecting a LUN in oVirt GUI?</strong></p>

<ol>
  <li>
    <p>The LUN should be raw (no filesystem, no LVM, no data)</p>
  </li>
  <li>
    <p>The LUN should be larger than 10Gb in size</p>
  </li>
  <li>
    <p>The LUN should be r/w accessible from the SPM host.</p>
  </li>
</ol>

<p><strong>16) How would I check whether <code class="language-plaintext highlighter-rouge">"KSM"</code> is active in my oVirt environment?</strong></p>

<p>KSM will come to action only when it satisfy below threshold:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(phys - committed) &lt; ksm_thres_coef percent * physical_mem
</code></pre></div></div>

<p>or</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(phys - committed) &lt;  ksm_thres_const (in Mb)
</code></pre></div></div>

<p>Example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ksm_thres_coef=20
ksm_thres_const=2048
</code></pre></div></div>

<p><strong>17) What are the default mount options used when oVirt node mounts a NFS storage or when configuring a NFS storage domain?</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  soft,timeo=10,retrans=6
</code></pre></div></div>

<p><strong>18) How would I read storage domain metadata in oVirt?</strong></p>

<p>The metadata has been added as volume groups “tags” in oVirt.  Use <code class="language-plaintext highlighter-rouge">vgs -o +tags</code> to check the metadata of storage domain.</p>

<p><strong>19) How may I remove an host in non responsive state from the manager if the host doesn’t exist anymore?</strong>
      You need to do “confirm host has been rebooted” since the host is not reachable and the engine can’t connect to it and he doesn’t know what’s the status of the VMs that ran on it before rebooting. After that manual fence for host will start. You’ll be able to remove the host once fencing finishes, it may take about five minutes.</p>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3186/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3186/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3186/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3186/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2024 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/faq.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/develop/faq.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
