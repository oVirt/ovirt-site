<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Installing on RHEL | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Installing on RHEL" />
<meta name="author" content="Sandro Bonazzola" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3042/download/install_on_rhel.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3042/download/install_on_rhel.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Installing on RHEL" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@sandrobonazzola" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Sandro Bonazzola"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"Installing on RHEL","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3042/images/logo.svg"},"name":"Sandro Bonazzola"},"url":"https://ovirt.github.io/ovirt-site/previews/3042/download/install_on_rhel.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3042/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3042/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3042/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3042/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3042/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3042/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3042/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3042/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3042/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3042/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3042/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3042/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3042/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3042/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3042/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3042/browserconfig.xml' name='msapplication-config'/>
</head>
<body class="download"><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3042/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3042/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3042/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3042/documentation/'>Documentation</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3042/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3042/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3042//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3042//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3042/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3042/download/">
              <span property="name">Download</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/65fafd7adcef0c369b149759491fae7f?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/65fafd7adcef0c369b149759491fae7f?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Sandro Bonazzola">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard"><a rel="author" href="https://twitter.com/sandrobonazzola" title="Sandro Bonazzola">Sandro Bonazzola</a></span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          
<h1 id="installing-on-rhel-or-derivatives">Installing on RHEL or derivatives</h1>
<h2 id="installing-on-rhel-86-or-derivatives">Installing on RHEL 8.6 or derivatives</h2>

<p>In order to install oVirt 4.5 on RHEL 8.6 or derivatives you’ll need to provide CentOS Stream required configuration.
The following bash code is needed before starting to install oVirt 4.5 on top of RHEL 8.6</p>

<p>Specific to RHEL only:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>subscription-manager repos <span class="nt">--enable</span> rhel-8-for-x86_64-baseos-rpms
subscription-manager repos <span class="nt">--enable</span> rhel-8-for-x86_64-appstream-rpms
subscription-manager repos <span class="nt">--enable</span> codeready-builder-for-rhel-8-x86_64-rpms

rpm <span class="nt">-i</span> <span class="nt">--justdb</span> <span class="nt">--nodeps</span> <span class="nt">--force</span> <span class="s2">"http://mirror.centos.org/centos/8-stream/BaseOS/</span><span class="si">$(</span>rpm <span class="nt">--eval</span> <span class="s1">'%_arch'</span><span class="si">)</span><span class="s2">/os/Packages/centos-stream-release-8.6-1.el8.noarch.rpm"</span>
</code></pre></div></div>

<p>Specific to Rocky Linux only:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># On Rocky there's an issue with centos-release-nfv package from extras</span>
dnf <span class="nb">install</span> <span class="nt">-y</span> dnf-plugins-core
dnf config-manager <span class="nt">--set-disabled</span> extras
</code></pre></div></div>

<p>Common to RHEL 8.6 and derivatives:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> <span class="o">&gt;</span>/etc/yum.repos.d/CentOS-Stream-Extras.repo <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
[cs8-extras]
name=CentOS Stream </span><span class="nv">$releasever</span><span class="sh"> - Extras
mirrorlist=http://mirrorlist.centos.org/?release=8-stream&amp;arch=</span><span class="nv">$basearch</span><span class="sh">&amp;repo=extras&amp;infra=</span><span class="nv">$infra</span><span class="sh">
#baseurl=http://mirror.centos.org/</span><span class="nv">$contentdir</span><span class="sh">/8-stream/extras/</span><span class="nv">$basearch</span><span class="sh">/os/
gpgcheck=1
enabled=1
gpgkey=https://www.centos.org/keys/RPM-GPG-KEY-CentOS-Official
</span><span class="no">EOF

</span><span class="nb">cat</span> <span class="o">&gt;</span>/etc/yum.repos.d/CentOS-Stream-Extras-common.repo <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
[cs8-extras-common]
name=CentOS Stream </span><span class="nv">$releasever</span><span class="sh"> - Extras common packages
mirrorlist=http://mirrorlist.centos.org/?release=8-stream&amp;arch=</span><span class="nv">$basearch</span><span class="sh">&amp;repo=extras-extras-common
#baseurl=http://mirror.centos.org/</span><span class="nv">$contentdir</span><span class="sh">/8-stream/extras/</span><span class="nv">$basearch</span><span class="sh">/extras-common/
gpgcheck=1
enabled=1
gpgkey=https://www.centos.org/keys/RPM-GPG-KEY-CentOS-SIG-Extras
</span><span class="no">EOF


</span><span class="nb">echo</span> <span class="s2">"8-stream"</span> <span class="o">&gt;</span> /etc/yum/vars/stream

dnf distro-sync <span class="nt">--nobest</span>
</code></pre></div></div>

<h2 id="installing-on-rhel-90-or-derivatives">Installing on RHEL 9.0 or derivatives</h2>

<p>Specific to RHEL only:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>subscription-manager repos <span class="nt">--enable</span> rhel-9-for-x86_64-baseos-rpms
subscription-manager repos <span class="nt">--enable</span> rhel-9-for-x86_64-appstream-rpms
subscription-manager repos <span class="nt">--enable</span> codeready-builder-for-rhel-9-x86_64-rpms
subscription-manager repos <span class="nt">--enable</span> rhel-9-for-x86_64-resilientstorage-rpms

rpm <span class="nt">-i</span> <span class="nt">--justdb</span> <span class="nt">--nodeps</span> <span class="nt">--force</span> <span class="s2">"http://mirror.stream.centos.org/9-stream/BaseOS/</span><span class="si">$(</span>rpm <span class="nt">--eval</span> <span class="s1">'%_arch'</span><span class="si">)</span><span class="s2">/os/Packages/centos-stream-release-9.0-12.el9.noarch.rpm"</span>
</code></pre></div></div>

<p>Common to RHEL 9.0 and derivatives:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> <span class="o">&gt;</span>/etc/yum.repos.d/CentOS-Stream-Extras-common.repo <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
[c9s-extras-common]
name=CentOS Stream </span><span class="nv">$releasever</span><span class="sh"> - Extras packages
metalink=https://mirrors.centos.org/metalink?repo=centos-extras-sig-extras-common-</span><span class="nv">$stream</span><span class="sh">&amp;arch=</span><span class="nv">$basearch</span><span class="sh">&amp;protocol=https,http
gpgkey=https://www.centos.org/keys/RPM-GPG-KEY-CentOS-SIG-Extras
gpgcheck=1
repo_gpgcheck=0
metadata_expire=6h
countme=1
enabled=1
</span><span class="no">EOF

</span><span class="nb">echo</span> <span class="s2">"9-stream"</span> <span class="o">&gt;</span> /etc/yum/vars/stream

dnf distro-sync <span class="nt">--nobest</span>
</code></pre></div></div>

<p>Due to <a href="https://bugzilla.redhat.com/show_bug.cgi?id=2091581">Bug 2091581</a>, while installing the virtualization host
you will be missing <code class="language-plaintext highlighter-rouge">nmstate-plugin-ovsdb</code> or <code class="language-plaintext highlighter-rouge">python3-libnmstate</code> unless you install them from
CentOS build <a href="https://kojihub.stream.centos.org/koji/buildinfo?buildID=17369">nmstate-2.0.0-2.el9</a>.
While installing it you need to ensure openvswitch2.15 will be installed instead of any later version.</p>

<p>Here’s how to do that:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dnf <span class="nb">install</span> <span class="nt">-y</span> centos-release-ovirt45
dnf <span class="nb">install</span> <span class="nt">-y</span> ovirt-openvswitch
dnf <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\</span>
https://kojihub.stream.centos.org/kojifiles/packages/nmstate/2.0.0/2.el9/noarch/nmstate-plugin-ovsdb-2.0.0-2.el9.noarch.rpm <span class="se">\</span>
https://kojihub.stream.centos.org/kojifiles/packages/nmstate/2.0.0/2.el9/noarch/python3-libnmstate-2.0.0-2.el9.noarch.rpm

</code></pre></div></div>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3042/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3042/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3042/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3042/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/download/install_on_rhel.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/download/install_on_rhel.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
