<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Gluster Import Existing Cluster | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Gluster Import Existing Cluster" />
<meta name="author" content="Kanagaraj Mayilsamy" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/2859/develop/release-management/features/gluster/gluster-import-existing-cluster.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/2859/develop/release-management/features/gluster/gluster-import-existing-cluster.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Gluster Import Existing Cluster" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@Kanagaraj Mayilsamy" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Kanagaraj Mayilsamy"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"Gluster Import Existing Cluster","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/2859/images/logo.svg"},"name":"Kanagaraj Mayilsamy"},"url":"https://ovirt.github.io/ovirt-site/previews/2859/develop/release-management/features/gluster/gluster-import-existing-cluster.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/2859/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/2859/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/2859/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/2859/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/2859/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/2859/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2859/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2859/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2859/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2859/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2859/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/2859/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/2859/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/2859/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/2859/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/2859/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/2859/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/2859/images/logo.svg">      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/2859/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2859/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/2859/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2859/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2859//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2859//blogs.ovirt.org/'>Blog</a></li>              </ul>          </div>          <!-- /.navbar-collapse -->      </div>      <!-- /.container-fluid -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2859/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2859/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2859/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2859/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2859/develop/release-management/features/gluster/">
              <span property="name">Gluster</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/ad6a629dcee77b9544df139f8407510f?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/ad6a629dcee77b9544df139f8407510f?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Kanagaraj Mayilsamy</span></p>
                      
                    </section>
                  </span>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/450b77aa4b277aa954e42c0cbaed64f1?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/450b77aa4b277aa954e42c0cbaed64f1?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Sahina Bose</span></p>
                      
                    </section>
                  </span>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/2859/documentation/'>Documentation is available here.</a></div>

<h1 id="gluster-import-existing-cluster">Gluster Import Existing Cluster</h1>

<h2 id="summary">Summary</h2>

<p>This allows the user to import an existing gluster supported cluster to engine. All the hosts part of the cluster will be imported.</p>

<h2 id="owner">Owner</h2>

<ul>
  <li>Feature owner: Shireesh Anjal <a href="mailto:sanjal@redhat.com">sanjal@redhat.com</a>
    <ul>
      <li>GUI Component owner: Kanagaraj Mayilsamy <a href="mailto:kmayilsa@redhat.com">kmayilsa@redhat.com</a></li>
      <li>REST Component owner: Shireesh Anjal</li>
      <li>Engine Component owner: Dhandapani Gopal <a href="mailto:dgopal@redhat.com">dgopal@redhat.com</a></li>
      <li>QA Owner: Sudhir Dharanendraiah <a href="mailto:sdharane@redhat.com">sdharane@redhat.com</a></li>
    </ul>
  </li>
</ul>

<h2 id="current-status">Current Status</h2>

<ul>
  <li>Status: Complete</li>
  <li>Last updated date: Fri Sep 25 2012</li>
</ul>

<h2 id="detailed-description">Detailed Description</h2>

<p>This feature provides the support for importing a storage cluster (gluster enabled) to oVirt engine. The hosts in the cluster will not have vdsm installed. The user needs to provide the details of any host in the cluster which includes IP/Host name of the host and password. “gluster peer status” command will be executed on that host through ssh, the result of the command will provide the list of hosts part of the cluster. Once everything is successful, the list of hosts will be shown to the user. The user verifies(manually) the fingerprint of each and every host and provides passwords for them, the AddHost flow continues from here onwards.</p>

<h2 id="design">Design</h2>

<h3 id="fetching-gluster-hosts">Fetching Gluster Hosts</h3>

<p><img src="/ovirt-site/previews/2859/images/wiki/Gluster-Import-Cluster-1.png" alt="" /></p>

<p>The <strong>Import existing cluster configuration</strong> section will be shown only if the user select <strong>Enable Gluster Service</strong>. When the user types the host <strong>Address</strong> and tab out or click outside, the fingerprint will be fetched and shown to the user. If the engine is not able to fetch the fingerprint either because of host is down or network issue, an error <strong>Error in fetching fingerprint</strong> will be shown in the fingerprint field. If the fingerprint is correct(to make sure we are communicating with the actual host not with some one else), the user will enter the password for the host and click <strong>Ok</strong>. The “gluster peer status” command will be executed through ssh in the remote host. This command will fail if the gluster is not running on the host or password is incorrect. The appropriate error message will be shown in the same place. The user will not be allowed to import even if one of the hosts in the cluster is down or not reachable. If everything is successful, the user will be shown the <strong>Add Hosts</strong> dialog which lists the hosts part of the cluster.</p>

<h3 id="importing-gluster-hosts">Importing Gluster Hosts</h3>

<p><img src="/ovirt-site/previews/2859/images/wiki/Gluster-Import-Cluster-2.png" alt="" /></p>

<p>The list of hosts which are part of the cluster will be shown. The <strong>Name</strong> column for each host will have the same values as the <strong>Hostname/IP</strong> column, the user can change the name of the host. The user needs to enter the <strong>Password</strong> for all the hosts shown in the table. If the passwords for all the hosts are same, the user can select <strong>Use a common password</strong>, enter the <strong>Root Password</strong> and click on <strong>Apply</strong>. The same password will be assigned for all the hosts. The user needs to verify the <strong>Fingerprint</strong> of all the hosts before submitting the details. If the passwords provided for the hosts are correct, the hosts will be added to the engine and available under the <strong>Hosts</strong> tab. The normal <strong>Add Host</strong> flow of bootstrapping, restart,etc continues from here onwards. As the newly imported hosts will not have <strong>vdsm</strong> installed, the bootstrap script will install all the necessary vdsm packages on the hosts.</p>

<h2 id="user-work-flow">User Work flow</h2>

<ol>
  <li>Click on <strong>New</strong> in Cluster Main Tab, the Create Cluster dialog opens</li>
  <li>Select <strong>Enable Gluster Service</strong> and <strong>Import existing gluster configuration</strong> checkboxes.</li>
  <li>Enter the IP Address/Host name of any server in the cluster</li>
  <li>Wait for the <strong>Fingerprint</strong> to load, and make sure we are communicating with the correct host</li>
  <li>Provide the <strong>Root Password</strong> for the server, and Click <strong>Ok</strong></li>
  <li><em>gluster peer status</em> command will be executed on that server</li>
  <li><strong>Add Hosts</strong> dialog will be shown with the list of hosts in the cluster</li>
  <li>Edit the <strong>Name</strong> of the hosts if required and provide <strong>Root Passwords</strong>. Same password can be provided for the all the hosts by selecting <strong>Use a common password</strong>. Click on <strong>Apply</strong> to set the entered password all hosts. The user can provide a different password for one host by editing the <strong>Root Password</strong> field of the respective host.</li>
  <li>Make sure the fingerprints are valid and submit the details by clicking <strong>Ok</strong></li>
</ol>

<p>None of the hosts will be imported even if the password for a host is wrong or one of the host is not reachable.</p>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/2859/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/2859/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/2859/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/2859/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/gluster/gluster-import-existing-cluster.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/master/source/develop/release-management/features/gluster/gluster-import-existing-cluster.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
