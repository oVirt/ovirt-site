<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>HostPMProxyPreferences | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="HostPMProxyPreferences" />
<meta name="author" content="Eli Mesika" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3100/develop/release-management/features/infra/hostpmproxypreferences.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3100/develop/release-management/features/infra/hostpmproxypreferences.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="HostPMProxyPreferences" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@Eli Mesika" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Eli Mesika"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"HostPMProxyPreferences","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3100/images/logo.svg"},"name":"Eli Mesika"},"url":"https://ovirt.github.io/ovirt-site/previews/3100/develop/release-management/features/infra/hostpmproxypreferences.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3100/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3100/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3100/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3100/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3100/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3100/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3100/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3100/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3100/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3100/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3100/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3100/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3100/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3100/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3100/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3100/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3100/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3100/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/3100/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3100/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3100/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3100/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3100//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3100//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3100/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3100/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3100/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3100/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3100/develop/release-management/features/infra/">
              <span property="name">Infra</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/d75560fd509444e4cbc70734dffa0673?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/d75560fd509444e4cbc70734dffa0673?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Eli Mesika">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Eli Mesika</span></p>
                      
                    </section>
                  </div>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/cecc15cbef6f4e4f056566885fd3fefa?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/cecc15cbef6f4e4f056566885fd3fefa?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Simong">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Simong</span></p>
                      
                    </section>
                  </div>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/cf9b98d6d79d0dd07d167017789bac45?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/cf9b98d6d79d0dd07d167017789bac45?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Yair Zaslavsky">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Yair Zaslavsky</span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/3100/documentation/'>Documentation is available here.</a></div>

<h1 id="host-pm-proxy-preferences">Host PM Proxy Preferences</h1>

<h2 id="hosts-power-management-proxy-preferences">Hosts Power Management Proxy Preferences</h2>

<h3 id="summary">Summary</h3>

<p>The Host Power Management feature allows the oVirt engine to remotely control the host power in order to execute the fencing command as part of the high availability features,
or allow the user to manually commit remote operations as PowerOff, PowerOn, and Restart.</p>

<h3 id="owner">Owner</h3>

<ul>
  <li>Name: Simon Grinberg</li>
</ul>

<h3 id="current-status">Current status</h3>

<p>The current implementation of the Power Management is focused on supporting the most popular power management device, while the fencing proxy selection is naive,
and there is no support for topologies where redundant power supply exists which requires supporting additional power management device.</p>

<ul>
  <li>Last updated date: Nov 2, 2012</li>
</ul>

<h3 id="detailed-description">Detailed Description</h3>

<p>When planing the power management feature for the hosts there are few orthogonal aspects to consider</p>

<ol>
  <li>Supported Power Management Devices</li>
  <li>Fencing logic, meaning how to determine a host requires fencing.</li>
  <li>Power Management logic, meaning when and how to use the power management mechanism to automatically reduce power consumption in the data center</li>
  <li>Power Management Proxy Selection</li>
</ol>

<p>This page is focused at the moment on item #4 and when discussion will go into the other then it will be split into relevant topics.</p>

<h3 id="power-management-proxy">Power Management Proxy</h3>

<p>oVirt uses the standard <code class="language-plaintext highlighter-rouge">cluster fence_&lt;device&gt;</code> script in order to perform power management related operations. These scripts are invoked by VDSM and controlled by the engine.
The power management proxy may be any server in the system that has VDSM and fence-agents installed with the proper certificates, even if it is not a host.</p>

<p>Proper proxy selection depends on the networking topology of the data center and user preferences.</p>

<p>Current design assumes any host in the data center may be used for fencing which requires all the hosts to have route to all the fencing devices in the system,
in reality out of band management networks are usually confined within the same clusters and sometimes even to specific hosts.</p>

<p>This requires to add the ability to specify, per host, multiple power management devices options in priority.
Per option need to specify which device to use and which proxy to use, where there may be multiple proxies with set priorities for using these proxies.</p>

<p>Proxy options may be:</p>

<ol>
  <li><strong>Engine</strong>: The server hosting the engine. This requires to install VDSM ( or at least fencing agent) on this host</li>
  <li><strong>DC</strong>: A host in the same data center</li>
  <li><strong>Cluster</strong>: A host in the same cluster</li>
  <li><strong>IP/FQDN</strong>: A specific host defined in the system.</li>
</ol>

<ul>
  <li>
    <ul>
      <li>Examples:
        <ul>
          <li>Cluster, Engine</li>
          <li>fqdn1/ip1,fqdn2/ip2</li>
          <li>Cluster</li>
          <li>Cluster, DC</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="benefit-to-ovirt">Benefit to oVirt</h3>

<p>What is the benefit to the oVirt project? If this is a major capability update, what has changed? If this is a new feature,
what capabilities does it bring? Why will oVirt become a better distribution or project because of this feature?</p>

<h3 id="dependencies--related-features">Dependencies / Related Features</h3>

<p>What other packages depend on this package? Are there changes outside the developersâ€™ control on which completion of this feature depends?
In other words, completion of another feature owned by someone else and might cause you to not be able to finish on time or that you would need to coordinate?
Other Features that might get affected by this feature?</p>

<h3 id="documentation--external-references">Documentation / External references</h3>



        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3100/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3100/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3100/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3100/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/infra/hostpmproxypreferences.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/develop/release-management/features/infra/hostpmproxypreferences.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
