<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>GlusterVolumeQuota | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="GlusterVolumeQuota" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3185/develop/release-management/features/gluster/glustervolumequota.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3185/develop/release-management/features/gluster/glustervolumequota.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="GlusterVolumeQuota" />
<meta name="twitter:site" content="@ovirt" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"GlusterVolumeQuota","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3185/images/logo.svg"}},"url":"https://ovirt.github.io/ovirt-site/previews/3185/develop/release-management/features/gluster/glustervolumequota.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3185/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3185/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3185/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3185/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3185/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3185/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3185/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3185/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3185/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3185/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3185/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3185/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3185/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3185/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3185/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3185/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3185/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3185/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/3185/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3185/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3185/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3185/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3185//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3185//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3185/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3185/develop/">
              <span property="name">Joining the developers community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3185/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3185/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3185/develop/release-management/features/gluster/">
              <span property="name">Gluster</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/393519c4c5d345f038570fa4a3849d85?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/393519c4c5d345f038570fa4a3849d85?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Shubhendu Tripathi">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Shubhendu Tripathi</span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/3185/documentation/'>Documentation is available here.</a></div>

<h1 id="gluster-volume-quota">Gluster Volume Quota</h1>

<h1 id="summary">Summary</h1>

<p>This feature allows the administrators to enable and disable disk utlization limits for the gluster volumes and disrectories. This way adminitrators can control the disk space utlization at the directory or volume level. This is particluarly useful in cloud deployments to facilitate utility billing model. Administrators can also configure the quota related parameters like soft timeout, hard timeout and alert time for the gluster volumes using this feature.</p>

<p>Gluster volume quota feature provides users a mechanism to control the disk utlization at volume level or directory level or both. System administrators can also monitor the resource utilization to limit the storage for the users depending on their role in the organization.</p>

<p>To read more about Gluster volume quota feature, see <a href="https://web.archive.org/web/20160310212525/http://gluster.org/community/documentation/index.php/Gluster_3.2:_Managing_Directory_Quota">https://web.archive.org/web/20160310212525/http://gluster.org/community/documentation/index.php/Gluster_3.2:_Managing_Directory_Quota</a>.</p>

<h1 id="owner">Owner</h1>

<ul>
  <li>Feature owner:
    <ul>
      <li>GUI Component owner:</li>
      <li>Engine Component owner:</li>
      <li>VDSM Component owner:</li>
      <li>QA Owner:</li>
    </ul>
  </li>
</ul>

<h1 id="current-status">Current Status</h1>

<ul>
  <li>Status: Inception</li>
  <li>Last updated date: Thu Aug 28 2014</li>
</ul>

<h1 id="detailed-description">Detailed Description</h1>

<p>Gluster volume quota is feature using which administrators can restrict the disk space utilization at volume level, at directories level or at both levels.</p>

<p>With this feature the user will be able to</p>

<ul>
  <li>Enable volume quota feature</li>
  <li>Disable volume quota feature</li>
  <li>Set the disk usage limits for the volume / directories</li>
  <li>Set the different time-outs (soft time-out, hard time-out, alert time)</li>
  <li>Remove disk limits</li>
</ul>

<h1 id="design">Design</h1>

<h2 id="user-experience-and-control-flows">User Experience and control flows</h2>

<h3 id="main-tab-volumes">Main tab “Volumes”</h3>

<p>Two new action namely “Enable Quota” and “Disable Quota” would be introduced under actions for Gluster volumes. These actions can be performed on a selected volume from the list. The actions would be enabled based on the current status of quota feature enabled/disabled for the given volume. If quota is not already enabled for the volume, only the action “Enable Quota” would be enabled. If quota is already enabled for a given volume, the action “Enable Quota” would be disabled and “Disable Quota” would get enabled for the same.</p>

<p>«Insert image»</p>

<h4 id="enabling-quota">Enabling Quota</h4>

<p>If user selects a volume from the list and click the action “Enable Quota”, a dialog pops up which provides option for setting disk usage limits for the volume / directories. It also provides options for setting time-outs (soft time-out, hard-timeout, alert time, default time-out). The sections for setting the timeouts would be collapsed by default with default values already set for them. If user wants, he can change the values in this dialog. Setting of disk usage limits would be provided through an action buttion “Set Disk Usage”.</p>

<p>«Insert image»</p>

<p>On click of the action button “Set Disk Usage” another dialog opens where user can provide the volume root level as well directory level hard limits. User can also mention the soft quota percentage values for the volume / directories.</p>

<p>«Insert imgage»</p>

<p>On clicking Ok, the required volume options would be set and also the required disk limits would be enabled for the volume / directories.</p>

<h4 id="disabling-quota">Disabling Quota</h4>

<p>To disable quota on a volume, user needs to select the action “Disable Quota” under volumes main tab. This action would unset all the required volumes option and remove the quota set for the volume / directories.</p>

<h3 id="sub-tab-volumes--quota">Sub-tab Volumes –&gt; Quota</h3>

<p>There would an additional sub-tab namely Quota introduced under main tab “Volumes”. This sub tab would list the quota already set for the given volumes at volume level as well as directories level. This list details the hard limit, soft limit and flags like whether soft limit and hard limit has been reached for the volume / directroies.</p>

<p>«Insert image»</p>

<p>This sub-tab also provides options for setting and removing the disk usage limits for specific directroies of the volumes using the actions “Set Disk Usage Limit” and “Remove Disk Usage Limit”.</p>

<h4 id="setting-disk-usage-limit">Setting Disk Usage Limit</h4>

<p>If user selects the action “Set Disk Usage Limit”, the dialog for setting the disk usage limit mentioned above, opens. User can set disk usage limit for additional directories for the volume using this option.</p>

<h4 id="removing-disk-usage-limit">Removing Disk Usage Limit</h4>

<p>If user selects an already set disk usage limit detail from the list and clicks the option “Remove Disk Usage Limit”, a confirmation dialog pops for asking if user really wants to remove the disk usage limit and on confirmation the selected disk usage limit is removed. Also all the required volumes options are reset accordingly.</p>

<h2 id="new-entities">New Entities</h2>

<h3 id="glustervolumequotas">GlusterVolumeQuotas</h3>

<p>This entity stores the disk usage limits set for volume and its sub directroies.</p>

<table>
  <thead>
    <tr>
      <th>Column name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>LimitId</td>
      <td>UUID</td>
      <td>Id of the new disk usage limit</td>
    </tr>
    <tr>
      <td>VolumeId</td>
      <td>UUID</td>
      <td>Reference volume id</td>
    </tr>
    <tr>
      <td>DirName</td>
      <td>String</td>
      <td>Directory name for which the disk usage limit is set</td>
    </tr>
    <tr>
      <td>HardLimit</td>
      <td>String</td>
      <td>Hard limit of disk usage set for the directory</td>
    </tr>
    <tr>
      <td>SoftLimit</td>
      <td>String</td>
      <td>Soft limit percentage set for the directory</td>
    </tr>
    <tr>
      <td>Used</td>
      <td>Number</td>
      <td>No of bytes used</td>
    </tr>
    <tr>
      <td>Available</td>
      <td>String</td>
      <td>Disk availability for the directory</td>
    </tr>
    <tr>
      <td>SoftLimitExceededFlag</td>
      <td>char</td>
      <td>Flag which mentions if the soft limit has exceeded (Y/N)</td>
    </tr>
    <tr>
      <td>HardLimitExceededFlag</td>
      <td>char</td>
      <td>Flag which mentions if the hard limit has exceeded (Y/N)</td>
    </tr>
  </tbody>
</table>

<p>Note: LimitId and VolumeId together uniquely identify disk usage limit details for a specific directory</p>

<h2 id="entities-changes">Entities Changes</h2>

<p>None</p>

<h2 id="sync-jobs">Sync Jobs</h2>

<p>The Gluster volume quota details would be periodically fetched and updated into engine using the GlusterSyncJOb’s heavy weight sync mechanism.</p>

<h2 id="bll-commands">BLL Commands</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">EnableGlusterVolumeQuota</code> - enables the quota feature for said volume</li>
  <li><code class="language-plaintext highlighter-rouge">DisableGlusterVolumeQuota</code> - disables the quota feature for said volume</li>
  <li><code class="language-plaintext highlighter-rouge">SetGlusterVolumeDiskUsageLimit</code> - sets the disk usage hard limit for the said volume and directory (optionally soft limit %tage)</li>
  <li><code class="language-plaintext highlighter-rouge">SetGlusterVolumeQuotaTimeout</code> - sets the quota related soft and hard timeout values for a volume</li>
  <li><code class="language-plaintext highlighter-rouge">SetGlusterVolumeQuotaAlertTime</code> - sets the quota related alert time value for a volume</li>
  <li><code class="language-plaintext highlighter-rouge">SetGlusterVolumeQuotaDefaultSoftLimit</code> - sets the default soft limit for a volume (default is 80% which could be changed using this)</li>
  <li><code class="language-plaintext highlighter-rouge">RemoveGlusterVolumeDiskUsageLimit</code> - removes the already set disk usage limit for the given volume and directory</li>
</ul>

<h2 id="engine-queries">Engine Queries</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">GetGlusterVolumeQuotaDetails</code> - returns the list of disk usage limits set for a volume and directory. If no directory name passed, it returns details for all the directories.</li>
</ul>

<h2 id="vdsm-verbs">VDSM Verbs</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaEnable</code> - enables quota feature for the said volume
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaDisable</code> - disables quota feature for the said volume
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaSetLimit</code> - sets disk usage limit for the said volume and directory
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>directoryName</li>
          <li>hardLimit</li>
          <li>[softLimitPcnt]</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Note: softLimitPcnt is an optional argument and would be set only if passed</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaSetHardTimeout</code> - sets quota related hard timeout for the said volume
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>timeout</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaSetSoftTimeout</code> - sets quota related soft timeout for the said volume
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>timeout</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaSetAlertTime</code> - sets quota related alert time for the said volume
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>time</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaSetDefaultSoftLimit</code> - sets quota related default soft limit for the said volume
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>limitPcnt</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaRemoveUsageLimit</code> - removes the disk usage limit for the said volume and directory
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>dirName</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>Success / Failure</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- -->

<ul>
  <li><code class="language-plaintext highlighter-rouge">glusterVolumeQuotaDetailsList</code> - gets the disk usage details list for the said volume (and directory optionally)
    <ul>
      <li>Input
        <ul>
          <li>volumeName</li>
          <li>[dirName]</li>
        </ul>
      </li>
      <li>Output
        <ul>
          <li>List Disk Usage Details</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Note: dirName is an optional argument and details of the specific directory are returned if passed, else details for all the directories are returned.</p>

<h2 id="restful-apis">RESTful APIs</h2>

<p>Details of the RESTful APIs for the Gluster volume quota feature are as below</p>

<h3 id="listing-apis">Listing APIs</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/quota|rel=get</code> - lists all the disk usage limits for the volume directory-wise</li>
</ul>

<p>Output:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;diskUsageLimits&gt;</span>
      <span class="nt">&lt;diskUsageLimit</span> <span class="na">href=</span><span class="s">""</span> <span class="na">id=</span><span class="s">""</span><span class="nt">&gt;</span>
        <span class="nt">&lt;actions&gt;</span>
        <span class="nt">&lt;/actions&gt;</span>
        <span class="nt">&lt;dir&gt;</span>{dir-name}<span class="nt">&lt;/dir&gt;</span>
        <span class="nt">&lt;hardLimit&gt;</span>{hard-limit-value}<span class="nt">&lt;/hardLimit&gt;</span>
        <span class="nt">&lt;softLimit&gt;</span>{soft-limit-percentage}<span class="nt">&lt;/softLimit&gt;</span>
        <span class="nt">&lt;used&gt;</span>{used-bytes}<span class="nt">&lt;/used&gt;</span>
        <span class="nt">&lt;available&gt;</span>{available-limit}<span class="nt">&lt;/available&gt;</span>
        <span class="nt">&lt;softLimitExceeded&gt;</span>{Y/N}<span class="nt">&lt;/softLimitExceeded&gt;</span>
        <span class="nt">&lt;hardLimitExceeded&gt;</span>{Y/N}<span class="nt">&lt;/hardLimitExceeded&gt;</span>
      <span class="nt">&lt;/diskUsageLimit&gt;</span>
    <span class="nt">&lt;/diskUsageLimits&gt;</span>
</code></pre></div></div>

<h3 id="actions-supported">Actions Supported</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/enable-quota|rel=enable-quota</code> - enables quota feature for the volume</li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action/&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/enable-quota|rel=disable-quota</code> - disables quota feature for the volume</li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action/&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/quota|rel=add</code> - adds disk usage limit for said volume and directory
    <ul>
      <li>Parameters
        <ul>
          <li><code class="language-plaintext highlighter-rouge">dirName</code> - String</li>
          <li><code class="language-plaintext highlighter-rouge">hardLimit</code> - String</li>
          <li><code class="language-plaintext highlighter-rouge">softLimitPcnt</code> - String</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action&gt;</span>
      <span class="nt">&lt;diskUsageLimit&gt;</span>
        <span class="nt">&lt;dirName&gt;</span>{dir-name}<span class="nt">&lt;/dirName&gt;</span>
        <span class="nt">&lt;hardLimit&gt;</span>{hard-limit-value}<span class="nt">&lt;/hardLimit&gt;</span>
        <span class="nt">&lt;softLimitPcnt&gt;</span>{soft-limit-percentage}<span class="nt">&lt;/softLimitPcnt&gt;</span>
      <span class="nt">&lt;/diskUsageLimit&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/quota|rel=delete</code> - removes a disk usage limit for said volume and directory
    <ul>
      <li>Parameters
        <ul>
          <li><code class="language-plaintext highlighter-rouge">dirName</code> - String</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action&gt;</span>
      <span class="nt">&lt;diskUsageLimit&gt;</span>
        <span class="nt">&lt;dirName&gt;</span>{dir-name}<span class="nt">&lt;/dirName&gt;</span>
      <span class="nt">&lt;/diskUsageLimit&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
</code></pre></div></div>

<p>or</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;diskUsageLimit</span> <span class="na">id=</span><span class="s">"{limit-id}"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/set-quota-soft-timeout|rel=set-quota-soft-timeout</code> - sets the quota related soft timeout value
    <ul>
      <li>Parameters
        <ul>
          <li><code class="language-plaintext highlighter-rouge">timeout</code> - String</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action&gt;</span>
      <span class="nt">&lt;softTimeout&gt;</span>{soft-timeout-value}<span class="nt">&lt;/softTimeout&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/set-quota-hard-timeout|rel=set-quota-hard-timeout</code> - sets the quota related hard timeout value
    <ul>
      <li>Parameters
        <ul>
          <li><code class="language-plaintext highlighter-rouge">timeout</code> - String</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action&gt;</span>
      <span class="nt">&lt;hardTimeout&gt;</span>{hard-timeout-value}<span class="nt">&lt;/hardTimeout&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/set-quota-alert-time|rel=set-quota-alert-time</code> - sets the quota related alert time value
    <ul>
      <li>Parameters
        <ul>
          <li><code class="language-plaintext highlighter-rouge">time</code> - String</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action&gt;</span>
      <span class="nt">&lt;alertTime&gt;</span>{alert-time-value}<span class="nt">&lt;/alertTime&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/api/clusters/{cluster-id}/glustervolumes/{volume-id}/set-deafult-soft-limit|rel=set-deafult-soft-limit</code> - sets the quota related default soft limit percentage
    <ul>
      <li>Parameters
        <ul>
          <li><code class="language-plaintext highlighter-rouge">limit</code> - String</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Input:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;action&gt;</span>
      <span class="nt">&lt;limit&gt;</span>{limit-percentage-value}<span class="nt">&lt;/limit&gt;</span>
    <span class="nt">&lt;/action&gt;</span>
</code></pre></div></div>

<h2 id="limitations">Limitations</h2>

<p>NA</p>

<h1 id="dependencies--related-features-and-projects">Dependencies / Related Features and Projects</h1>

<p>None</p>

<h1 id="test-cases">Test Cases</h1>

<h1 id="documentation--external-references">Documentation / External references</h1>

<p><a href="https://web.archive.org/web/20160310212525/http://gluster.org/community/documentation/index.php/Gluster_3.2:_Managing_Directory_Quota">https://web.archive.org/web/20160310212525/http://gluster.org/community/documentation/index.php/Gluster_3.2:_Managing_Directory_Quota</a></p>

<h1 id="open-issues">Open Issues</h1>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3185/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3185/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3185/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3185/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2024 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/gluster/glustervolumequota.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/develop/release-management/features/gluster/glustervolumequota.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
