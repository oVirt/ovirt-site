<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Intial Run Vm tab | oVirt</title>
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="Intial Run Vm tab" />
<meta name="author" content="Jodi Biddle" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/2775/develop/release-management/features/virt/intial-run-vm-tab.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/2775/develop/release-management/features/virt/intial-run-vm-tab.html" />
<meta property="og:site_name" content="oVirt" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Intial Run Vm tab" />
<meta name="twitter:site" content="@ovirt" />
<meta name="twitter:creator" content="@Jodi Biddle" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Jodi Biddle"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/2775/images/logo.svg"},"name":"Jodi Biddle"},"description":"oVirt is a free open-source virtualization solution for your entire enterprise","@type":"WebPage","headline":"Intial Run Vm tab","url":"https://ovirt.github.io/ovirt-site/previews/2775/develop/release-management/features/virt/intial-run-vm-tab.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/2775/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/2775/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/2775/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/2775/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/2775/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/2775/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2775/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2775/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2775/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2775/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/2775/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <!-- Begin Jekyll Favicon tag v0.2.9 -->
<!-- Classic -->
<link rel="shortcut icon" href="/ovirt-site/previews/2775/favicon.ico">
<link rel="icon" sizes="48x48 32x32 16x16" href="/ovirt-site/previews/2775/favicon.ico">
  <link rel="icon" sizes="16x16" type="image/png" href="/ovirt-site/previews/2775/images/favicon-16x16.png">
  <link rel="icon" sizes="32x32" type="image/png" href="/ovirt-site/previews/2775/images/favicon-32x32.png">
  <link rel="icon" sizes="64x64" type="image/png" href="/ovirt-site/previews/2775/images/favicon-64x64.png">
  <link rel="icon" sizes="144x144" type="image/png" href="/ovirt-site/previews/2775/images/favicon-144x144.png">
<!-- Safari -->
  <link rel="apple-touch-icon" sizes="57x57" href="/ovirt-site/previews/2775/images/favicon-57x57.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/ovirt-site/previews/2775/images/favicon-76x76.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/ovirt-site/previews/2775/images/favicon-120x120.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/ovirt-site/previews/2775/images/favicon-152x152.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/ovirt-site/previews/2775/images/favicon-167x167.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/ovirt-site/previews/2775/images/favicon-180x180.png">
<!-- Chrome -->
  <link rel="icon" sizes="192x192" href="/ovirt-site/previews/2775/images/favicon-192x192.png">
  <link rel="icon" sizes="96x96" href="/ovirt-site/previews/2775/images/favicon-96x96.png">
  <link rel="icon" sizes="48x48" href="/ovirt-site/previews/2775/images/favicon-48x48.png">
<link rel="manifest" href="/ovirt-site/previews/2775/manifest.webmanifest">
<!-- IE -->
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ovirt-site/previews/2775/images/favicon-144x144.png">
<meta name='msapplication-config' content="/ovirt-site/previews/2775/browserconfig.xml">
<!-- End Jekyll Favicon tag -->
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/2775/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/2775/images/logo.svg">      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/2775/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2775/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/2775/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2775/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2775//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/2775//blogs.ovirt.org/'>Blog</a></li>              </ul>          </div>          <!-- /.navbar-collapse -->      </div>      <!-- /.container-fluid -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2775/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2775/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2775/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2775/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/2775/develop/release-management/features/virt/">
              <span property="name">Virt</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <header class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/906bf180bffb1193ebc82defe8af0430?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/906bf180bffb1193ebc82defe8af0430?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Jodi Biddle</span></p>
                      
                    </section>
                  </span>
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/6a6ee5db5d55d1918022cb4a22f64286?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/6a6ee5db5d55d1918022cb4a22f64286?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy">
                  </div>
                  <span class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Roy Golan</span></p>
                      
                    </section>
                  </span>
                
              </header>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/2775/documentation/'>Documentation is available here.</a></div>

<h1 id="intial-run-vm-tab">Intial Run Vm tab</h1>

<h2 id="summary">Summary</h2>

<p>Initial Run is a replacment for sysprep tab. It contains OS independent properties as well as specific one’s like the current “Domain” for Windows sysprep tool.</p>

<h2 id="owner">Owner</h2>

<ul>
  <li>Name: <a href="https://github.com/rgolangh">Roy Golan</a> (rgolan)</li>
  <li>Email: <a href="mailto:rgolan@redhat.com">rgolan@redhat.com</a></li>
</ul>

<h2 id="current-status">Current status</h2>

<p>in code review.</p>

<h2 id="detailed-description">Detailed Description</h2>

<p>This feature emereged from the need to set the HW clock for non-windows machine in the first time the VM runs and store it in templates and their instances.
To do so we must use the Timezone offset from GMT in seconds and send it to VDSM:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;clock</span> <span class="na">offset=</span><span class="s">"variable"</span> <span class="na">adjustment=</span><span class="s">"-3600"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;timer</span> <span class="na">name=</span><span class="s">"rtc"</span> <span class="na">tickpolicy=</span><span class="s">"catchup"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/clock&gt;</span>
</code></pre></div></div>

<h2 id="required-changes">Required Changes</h2>

<ul>
  <li>Engine - <code class="language-plaintext highlighter-rouge">GetTimezoneQuery</code></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">GetTimeZoneQuery</code> was extended with the option to pool general timezone list and not only windows-specific
Simply pass isWindowsOS=false with the params. The default behaviour is set to “true” to return windows values.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="kd">public</span> <span class="kd">class</span> <span class="nc">TimeZoneQueryParams</span> <span class="kd">extends</span> <span class="nc">VdcQueryParametersBase</span> <span class="o">{</span>
         <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">windowsOS</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
         <span class="o">...</span>
      <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>UX</li>
</ul>

<ol>
  <li>Sysprep tab is renamed to Initial Run</li>
  <li>tab is always visible</li>
  <li>content is splitted into “General” for common properties to all OSs and “Windows” section with windows only properties e.g Domain</li>
  <li>on selection of different OS under Genral tab the Timezone list is fetched (cached)</li>
  <li>Domain select-box gets disable when the OS is non windows</li>
</ol>

<h2 id="benefit-to-ovirt">Benefit to oVirt</h2>

<p>First an admin can set a VM with a desired clock offset, make a template from it and each VM created from that templte will have its clock set already. Second we would be able to use future sysprep for linux.</p>

<h2 id="screenshot">Screenshot</h2>

<p><img src="/ovirt-site/previews/2775/images/wiki/Initial-run-tab.png" alt="" /></p>



        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/2775/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/2775/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/2775/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/2775/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/virt/intial-run-vm-tab.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/master/source/develop/release-management/features/virt/intial-run-vm-tab.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
