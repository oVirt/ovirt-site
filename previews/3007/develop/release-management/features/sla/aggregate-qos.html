<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>aggregate QoS | oVirt</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="aggregate QoS" />
<meta property="og:locale" content="en" />
<meta name="description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<meta property="og:description" content="oVirt is a free open-source virtualization solution for your entire enterprise" />
<link rel="canonical" href="https://ovirt.github.io/ovirt-site/previews/3007/develop/release-management/features/sla/aggregate-qos.html" />
<meta property="og:url" content="https://ovirt.github.io/ovirt-site/previews/3007/develop/release-management/features/sla/aggregate-qos.html" />
<meta property="og:site_name" content="oVirt" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="aggregate QoS" />
<meta name="twitter:site" content="@ovirt" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"oVirt is a free open-source virtualization solution for your entire enterprise","headline":"aggregate QoS","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ovirt.github.io/ovirt-site/previews/3007/images/logo.svg"}},"url":"https://ovirt.github.io/ovirt-site/previews/3007/develop/release-management/features/sla/aggregate-qos.html"}</script>
<!-- End Jekyll SEO tag -->

  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <link rel="stylesheet" href="/ovirt-site/previews/3007/stylesheets/fonts.css" />
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
  <link rel="stylesheet" href="/ovirt-site/previews/3007/stylesheets/application.css" />
  <link rel="stylesheet" href="/ovirt-site/previews/3007/stylesheets/print.css" media="print" />
  <link rel="stylesheet" href="/ovirt-site/previews/3007/stylesheets/coderay.css" media="screen" />
  <link rel="stylesheet" href="/ovirt-site/previews/3007/stylesheets/asciidoc.css" />
  <script src="/ovirt-site/previews/3007/javascripts/vendor/jquery.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3007/javascripts/vendor/bootstrap.min.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3007/javascripts/vendor/bootstrap-sortable.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3007/javascripts/vendor/moment.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3007/javascripts/vendor/fullcalendar/fullcalendar.js" type="text/javascript"></script>
  <script src="/ovirt-site/previews/3007/javascripts/lib/cal-widget.js" type="text/javascript"></script>
  <link href='/ovirt-site/previews/3007/favicon.ico' rel='shortcut icon' sizes='36x36 24x24 16x16' type='image/x-icon'/>
<link href='/ovirt-site/previews/3007/favicon.png' rel='icon' sizes='196x196' type='image/png'/>
<meta content='/ovirt-site/previews/3007/mstile-icon-128x128.png' name='msapplication-TileImage'/>
<meta content='transparent' name='msapplication-TileColor'/>
<link href='/ovirt-site/previews/3007/manifest.webmanifest' rel='manifest'/>
<meta content='/ovirt-site/previews/3007/browserconfig.xml' name='msapplication-config'/>
</head>
<body class=""><header class='masthead hidden-print' id='branding' role='banner'><section class='hgroup'></section><div id='access'><nav id="mainNav" class="navbar navbar-fixed-top affix-top">  <div class="container">    <div class="col-sm-2 navbar-header">      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu_id0980fddf">        <span class="sr-only">Toggle navigation</span>        <span>Menu</span>        <span class="fa fa-bars"></span>      </button>      <a class="navbar-brand" href="/ovirt-site/previews/3007/">        <img id="logo" alt="oVirt" src="/ovirt-site/previews/3007/images/logo.svg" />      </a>    </div>    <!-- Collect the nav links, forms, and other content for toggling -->    <div class="col-sm-10">      <div class="navbar-collapse collapse" id="menu_id0980fddf">        <ul class="nav navbar-nav" role="menubar">          <li class="hidden active">            <a href="#page-wrap"></a>          </li><li role='menuitem'>  <a href='/ovirt-site/previews/3007/download/'>Download</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3007/documentation/'>Documentation</a></li><li class='active' role='menuitem'>  <a href='/ovirt-site/previews/3007/develop/'>Developers</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3007/community/'>Community</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3007//lists.ovirt.org/archives/'>Forum</a></li><li role='menuitem'>  <a href='/ovirt-site/previews/3007//blogs.ovirt.org/'>Blog</a></li>        </ul>      </div>      <!-- /.navbar-collapse -->    </div>  </div></nav></div></header><main id="page-wrap" class="page-wrap" aria-label="Content">
      <section id="page" class="page">
        <!-- adapted from https://github.com/git-no/jekyll-breadcrumbs -->
<nav class="breadcrumbs bootstrap hidden-sm-down" aria-label="breadcrumb">

   <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">

      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3007/">
              <span property="name"></span>
              <meta property="position" content="1" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3007/develop/">
              <span property="name">Developers Community</span>
              <meta property="position" content="2" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3007/develop/release-management/">
              <span property="name">Release Management</span>
              <meta property="position" content="3" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3007/develop/release-management/features/">
              <span property="name">Features (Design documents)</span>
              <meta property="position" content="4" />
           </a>
        </li>
      
        
        
        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
           <a property="item" typeof="WebPage" href="/ovirt-site/previews/3007/develop/release-management/features/sla/">
              <span property="name">Sla</span>
              <meta property="position" content="5" />
           </a>
        </li>
      
        
        
          

   </ol>

</nav>

        
          
            <header class="post-header col-md-4 pad-sides well well-lg">
              <h2 class="post-title entry-title">Authors:</h2>
              <div class="post-meta">
                
                  
                  
                  
                  <div class="blogger_avatar">
                    <img
                      src="https://secure.gravatar.com/avatar/d23ba59f40f03f1390a8bbe87e4a8060?s=32&amp;d=mm&amp;r=g"
                      srcset="https://secure.gravatar.com/avatar/d23ba59f40f03f1390a8bbe87e4a8060?s=64&amp;d=mm&amp;r=g 2x"
                      class="avatar avatar-32 photo"
                      height="32"
                      width="32"
                      loading="lazy"
                      alt="avatar of Gilad Chaplik">
                  </div>
                  <div class="byline">
                    <section class="entry-meta">
                      
                        <p><span class="author vcard">Gilad Chaplik</span></p>
                      
                    </section>
                  </div>
                
                </div>
            </header>
          
        
        <section id="content" class="content container">
          <div class='alert alert-warning'>Feature pages are design documents that developers have created while collaborating on oVirt.<br><br>Most of them are&nbsp;<strong>outdated</strong>, but provide historical design context.<br><br>They are&nbsp;<strong>not</strong>&nbsp;user documentation and should not be treated as such.<br><br><a href='/ovirt-site/previews/3007/documentation/'>Documentation is available here.</a></div>

<h1 id="aggregate-qos-objects">Aggregate QoS Objects</h1>

<h2 id="description">Description</h2>

<p>While oVirt is rapidly continues to grow and gather features, it’s important to wrap already existing features with new ones, for better UX reasons.
In oVirt 3.5, there are going to be 2 new QoS objects, <a href="/ovirt-site/previews/3007/develop/release-management/features/sla/cpu-sla.html">CPU limits</a> and
<a href="/ovirt-site/previews/3007/develop/release-management/features/sla/blkio-support.html">blkio limits</a>, added to the existing one <a href="/ovirt-site/previews/3007/develop/sla/network-qos.html">network QoS</a> (since 3.3).</p>

<h2 id="owner">Owner</h2>

<p>Name: Gilad Chaplik (gchaplik)</p>

<h2 id="current-status">Current status</h2>

<p>Target Version: 3.5</p>

<p>Status: development (http://gerrit.ovirt.org/#/q/status:open+project:ovirt-engine+branch:master+topic:aggregate_qos,n,z)</p>

<h2 id="detailed-description">Detailed Description</h2>

<h3 id="engine-core">Engine Core</h3>

<ul>
  <li>Introducing a new name space QoS, BaseQos abstract class, QosType (network, cpu, storage).</li>
  <li>Data Base: qos table to hold all limits (sparse matrix), and include a type field (QoSType).</li>
</ul>

<h3 id="restful-api">RESTful API</h3>

<ul>
  <li><strong>POST</strong>: <code class="language-plaintext highlighter-rouge">/ovirt-engine/api/datacenters/{datacenter:id}/qoss</code>; body: <code class="language-plaintext highlighter-rouge">qos</code>; response: <code class="language-plaintext highlighter-rouge">qos</code></li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;qos</span> <span class="na">type=</span><span class="s">"network"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;name&gt;</span>test_qos<span class="nt">&lt;/name&gt;</span>
     <span class="nt">&lt;inbound_average&gt;</span>10<span class="nt">&lt;/inbound_average&gt;</span>
     <span class="nt">&lt;inbound_peak&gt;</span>10<span class="nt">&lt;/inbound_peak&gt;</span>
     <span class="nt">&lt;inbound_burst&gt;</span>100<span class="nt">&lt;/inbound_burst&gt;</span>
     <span class="nt">&lt;outbound_average&gt;</span>-1<span class="nt">&lt;/outbound_average&gt;</span>
     <span class="nt">&lt;outbound_peak&gt;</span>-1<span class="nt">&lt;/outbound_peak&gt;</span>
     <span class="nt">&lt;outbound_burst&gt;</span>-1<span class="nt">&lt;/outbound_burst&gt;</span>
   <span class="nt">&lt;/qos&gt;</span>
</code></pre></div></div>

<ul>
  <li><strong>GET</strong>: <code class="language-plaintext highlighter-rouge">/ovirt-engine/api/datacenters/{datacenter:id}/qoss</code>; response: <code class="language-plaintext highlighter-rouge">qos</code></li>
  <li><strong>DELETE</strong>: <code class="language-plaintext highlighter-rouge">/ovirt-engine/api/datacenters/{datacenter:id}/qoss/{qos:id}</code>;</li>
  <li><strong>GET</strong>: <code class="language-plaintext highlighter-rouge">/ovirt-engine/api/datacenters/{datacenter:id}/qoss/{qos:id}</code>; response: <code class="language-plaintext highlighter-rouge">qos</code></li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;qos</span> <span class="na">type=</span><span class="s">"network"</span> <span class="na">href=</span><span class="s">"/ovirt-engine/api/datacenters/00000002-0002-0002-0002-000000000321/qoss/a66577ff-d5f1-40f7-aebb-0b350ad8bb8c"</span> <span class="na">id=</span><span class="s">"a66577ff-d5f1-40f7-aebb-0b350ad8bb8c"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;name&gt;</span>test2<span class="nt">&lt;/name&gt;</span>
       <span class="nt">&lt;data_center</span> <span class="na">href=</span><span class="s">"/ovirt-engine/api/datacenters/00000002-0002-0002-0002-000000000321"</span> <span class="na">id=</span><span class="s">"00000002-0002-0002-0002-000000000321"</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;inbound_average&gt;</span>10<span class="nt">&lt;/inbound_average&gt;</span>
       <span class="nt">&lt;inbound_peak&gt;</span>10<span class="nt">&lt;/inbound_peak&gt;</span>
       <span class="nt">&lt;inbound_burst&gt;</span>100<span class="nt">&lt;/inbound_burst&gt;</span>
       <span class="nt">&lt;outbound_average&gt;</span>-1<span class="nt">&lt;/outbound_average&gt;</span>
       <span class="nt">&lt;outbound_peak&gt;</span>-1<span class="nt">&lt;/outbound_peak&gt;</span>
       <span class="nt">&lt;outbound_burst&gt;</span>-1<span class="nt">&lt;/outbound_burst&gt;</span>
   <span class="nt">&lt;/qos&gt;</span>
</code></pre></div></div>

<ul>
  <li>
    <p><strong>PUT</strong>: <code class="language-plaintext highlighter-rouge">/ovirt-engine/api/datacenters/{datacenter:id}/qoss/{qos:id}</code>; body: <code class="language-plaintext highlighter-rouge">qos</code>; response: <code class="language-plaintext highlighter-rouge">qos</code></p>
  </li>
  <li>
    <p>ulimited: -1.</p>
  </li>
</ul>

<p>NOTE: the <code class="language-plaintext highlighter-rouge">qos</code> object will contain all limits from all types.</p>

<h3 id="gui">GUI</h3>

<ul>
  <li>Remove network profile as a main tab.</li>
  <li>Add a splitter to network profiles subtab, and include permissions sub tab (UX RFE will be opened to enhance ‘splitter subtabs’ l&amp;f).</li>
  <li>Network QoS sub tab under data centers will be renamed to QoS.</li>
  <li>QoS sub tab will contain a vertical tab control with 3 values: Network, Storage, CPU:</li>
</ul>

<p>each view will show a separate table including its limit, in All we’ll have a generic limit text, taken from <code class="language-plaintext highlighter-rouge">IQoS</code>, and the <code class="language-plaintext highlighter-rouge">QoSType</code>.</p>

<ul>
  <li>[WiP] mockups to follow.</li>
</ul>

<h3 id="profiles">Profiles</h3>

<p>Each profile will have its separate table and all will be connected to qos table. In engine, there will be a base dao and base profile BE for all profiles, should share some of the basic flows.</p>




        </section>
      </section>
    </main>

    <script src="/ovirt-site/previews/3007/javascripts/lib/headings_anchors.js" type="text/javascript"></script><footer class='text-center' id='footer'><hr class='visible-print'><ul class='footer-nav-list'><li><a href='/ovirt-site/previews/3007/privacy-policy.html' target='_blank' title='Privacy policy'>Privacy policy</a></li><li><a href='/ovirt-site/previews/3007/community/about.html' target='_blank' title='About'>About</a></li><li><a href='/ovirt-site/previews/3007/general-disclaimer.html' target='_blank' title='Disclaimers'>Disclaimers</a></li></ul>&copy; 2013&ndash;2022 oVirt<div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/develop/release-management/features/sla/aggregate-qos.html&amp;template=' target='_blank' title='Report an issue'><i class="icon fab fa-github"></i>Report an issue with this page</a></div><div class='edit-this-page'><a href='https://github.com/oVirt/ovirt-site/edit/main/source/develop/release-management/features/sla/aggregate-qos.md' target='_blank' title='Edit this page'><i class="icon fab fa-github"></i>Edit this page</a></div></footer></body>

</html>
